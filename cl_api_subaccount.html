<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="The Sub-Account API provides methods for managing sub-resellers.">
<meta name="keywords" content="sites,  account, sub-account, sub-reseller">
<title>Sub-Account APIs | Weebly Cloud Developer Documentation</title>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- Third-Party CSS -->
<link rel="stylesheet" href="css/syntax.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<!-- Custom CSS -->
<link rel="stylesheet" media="screen" href="css/orbit-external.css">
<link rel="stylesheet" media="screen" href="css/orbit.css">
<link rel="stylesheet" media="screen" href="css/theme-weebly.css">

<!-- Third-Party JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>
<script src="js/jekyll-search.js" type="text/javascript"></script>
<script src="js/toc.js"></script>

<!-- Custom JS -->
<script src="js/customscripts.js"></script>



</head>
<body>

<!-- Navigation -->

<div class="top-nav">

	<div class="top-nav-item">
		<img src="images/weebly_cloud_logo.svg" alt="Weebly Cloud" class="cloud-logo" role="button" tabindex="0" alt="menu"/>
	</div>

	<div class="top-nav-item">
		<img class="mobile-nav-btn" src="images/icons/mobile-menu.svg" alt="Mobile menu">
	</div>

	<nav class="top-nav-item">
		<div class="nav-group">
			<ul class="NavList nav-group-list horizontal">
				<!-- entries without drop-downs appear here -->
				
				
				
				<li class="NavLinkLi">
					<a href="home.html" class="NavLink nav-group-list-link">Get Started</a>
				</li>
				
				
				
				<li class="NavLinkLi">
					<a href="cl_api_about.html" class="NavLink nav-group-list-link">Cloud API</a>
				</li>
				
				
				
				<li class="NavLinkLi">
					<a href="cl_plugins_about.html" class="NavLink nav-group-list-link">Plugins</a>
				</li>
				
				
				
				<li class="NavLinkLi">
					<a href="cl_apps_gs.html" class="NavLink nav-group-list-link">Apps</a>
				</li>
				
				
				
				<li class="NavLinkLi">
					<a href="cl_themes_start.html" class="NavLink nav-group-list-link">Themes</a>
				</li>
				
				
				
				<li class="NavLinkLi">
					<a href="cl_tags.html" class="NavLink nav-group-list-link">Tags</a>
				</li>
				
				
				
				<!-- entries with drop-downs appear here -->
				<!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
				
				<!--
			<li class="NavLinkLi">



  <a class="email NavLink nav-group-list-link" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:rwhitmore@weebly.com?subject=Weebly Cloud Developer Docs feedback&body=I have some feedback about the Sub-Account APIs page: ' + window.location.href;">Feedback</a>

</li>

-->
        <li class="NavLinkLi">

  <a href="https://weeblycloud.com/admin" target="_blank">Cloud Admin</a>
</li>


		

                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="Search...">
                        <ul id="results-container"></ul>
                    </div>
                    <!--end search-->
                </li>
            </ul>
        </div>
	</nav>
</div>






<div class="page has-sidebar">
    
      <div class="col-sidebar">
       	














<ul id="mysidebar" class="nav NavList">
    
	    
		    
	    
		    

			    <li class="NavLinkLi">
			        <a href="#" class="NavLink isSecondary">Use the REST APIs</a>
			        <ul class="NavList Children">
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_about.html" class="NavLink isSecondary">How to Use the REST APIs</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_account.html" class="NavLink isSecondary">Account API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_blog.html" class="NavLink isSecondary">Blog API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_blog_post.html" class="NavLink isSecondary">Blog Post API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_category.html" class="NavLink isSecondary">Category API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_category_image.html" class="NavLink isSecondary">Category Image API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_coupon.html" class="NavLink isSecondary">Coupon API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_form.html" class="NavLink isSecondary">Form API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_form_entry.html" class="NavLink isSecondary">Form Entry API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_group.html" class="NavLink isSecondary">Group API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_member.html" class="NavLink isSecondary">Member API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_order.html" class="NavLink isSecondary">Order API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_order_billing.html" class="NavLink isSecondary">Order Billing API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_order_billing_transaction.html" class="NavLink isSecondary">Order Billing Transaction API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_order_item.html" class="NavLink isSecondary">Order Item API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_order_shipment.html" class="NavLink isSecondary">Order Shipment API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_order_shipment_transaction.html" class="NavLink isSecondary">Order Shipment Transaction API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_page.html" class="NavLink isSecondary">Page API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_plan.html" class="NavLink isSecondary">Plan API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_product.html" class="NavLink isSecondary">Product API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_product_image.html" class="NavLink isSecondary">Product Image API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_product_option.html" class="NavLink isSecondary">Product Option API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_product_sku.html" class="NavLink isSecondary">Product SKU API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_product_sku_option_choice.html" class="NavLink isSecondary">Product SKU Option Choice API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_site.html" class="NavLink isSecondary">Site API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_store.html" class="NavLink isSecondary">Store API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="active isActive NavLinkLi">
					            	<a href="cl_api_subaccount.html" class="NavLink  isSecondary">Sub-Account API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_team_member.html" class="NavLink isSecondary">Team Member API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_themes_cloud.html" class="NavLink isSecondary">Themes (Custom Cloud) API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_themes_user.html" class="NavLink isSecondary">Themes (User) API</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_user.html" class="NavLink isSecondary">User API</a>
					            </li>
				            

				            
			            
			            
			        </ul>
			    </li>
		    
	    
		    

			    <li class="NavLinkLi">
			        <a href="#" class="NavLink isSecondary">Webhooks</a>
			        <ul class="NavList Children">
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_wh_webhooks.html" class="NavLink isSecondary">How to Use Webhooks</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_wh_blog.html" class="NavLink isSecondary">Blog Webhooks</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_wh_form.html" class="NavLink isSecondary">Form Webhooks</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_wh_member.html" class="NavLink isSecondary">Member Webhooks</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_wh_site.html" class="NavLink isSecondary">Site Webhooks</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_wh_store.html" class="NavLink isSecondary">Store Webhooks</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_wh_user.html" class="NavLink isSecondary">User Webhooks</a>
					            </li>
				            

				            
			            
			            
			        </ul>
			    </li>
		    
	    
		    

			    <li class="NavLinkLi">
			        <a href="#" class="NavLink isSecondary">API Terms of Use</a>
			        <ul class="NavList Children">
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_api_terms.html" class="NavLink isSecondary">API Terms of Use</a>
					            </li>
				            

				            
			            
			            
			        </ul>
			    </li>
		    
	    
    

</ul>


<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>
$("li.active").parents('li').toggleClass("active");
</script>

      </div>
    

    <div class="col-content">
        <div>
    <div class="post-header">
        <h1 class="post-title-main display-1">Sub-Account APIs</h1>
    </div>
    <div class="page-type">  reference </div>
</div>




<div class="post-content">

   
    <div class="summary">The Sub-Account API provides methods for managing sub-resellers.</div>
   

    
    <!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {

	$('#toc').toc({
		minimumHeaders: 2, // Don't show ToC if there is only one header
		listType: 'ul',
		showSpeed: 0,
		headers: 'h2'
	});

	/* this offset helps account for the space taken up by the floating toolbar. */
	$('#toc').on('click', 'a', function() {
	  var target = $(this.getAttribute('href'))
	    , scroll_target = target.offset().top

	  $(window).scrollTop(scroll_target - 50);
	  return false
	})

});
</script>

<div id="toc" class="toc"></div>

    

    

  <p>Subaccounts in Weebly Cloud are resellers of Weebly that are owned and managed through your account. These sub-accounts, or “sub-resellers”, allow you to manage the activity and settings of each of your resellers independently.</p>

<h2>Fields</h2>

<p>The following table shows all fields that exist for this API, those that are returned when you retrieve a list, those that are required <code class="highlighter-rouge">POST</code>, and those that are changeable using <code class="highlighter-rouge">PATCH</code>. All fields are returned when you retrieve a single item.</p>
<table>
    <tbody>
    <tr>
        <td><strong>Name</strong></td>
        <td><strong>Description</strong></td>
        <td><strong>Type</strong></td>
        <td><strong>List</strong></td>
        <td><strong>Required</strong></td>
        <td><strong>Changeable</strong></td>
    </tr>
    <tr>
        <td>​<code>test_mode</code></td>
        <td>Whether or not this sub-account is in test mode. By default, this is set to true when a subreseller is created.<br />
            Valid values are:
            <ul>
                <li>true</li>
                <li>false</li>
            </ul> </td>
        <td>boolean</td>
        <td>X</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td><code>suspended</code></td>
        <td>Whether or not this sub-account is suspended.<br />
            Valid values are:
            <ul>
                <li>true</li>
                <li>false</li>
            </ul>​</td>
        <td>boolean</td>
        <td>X</td>
        <td></td>
        <td>X</td>
    </tr>

    <tr>
        <td><code>brand_name</code></td>
        <td>The brand name of the sub-reseller. Displays in the footer of any free sites. They may override this setting at the site level. </td>
        <td>string</td>
        <td>X</td>
        <td>X</td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>brand_url</code></td>
        <td>Full url to the sub-reseller's website. The link in the footer of a published site will go to this site. They may override this setting at the site level.</td>
        <td>string</td>
        <td>X</td>
        <td>X</td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>portal_domain</code></td>
        <td>The CNAME record to access Cloud Admin (eg: <code>portaldomain.com/admin</code>) and the client portal, if enabled (eg: <code>portaldomain.com/portal</code>). This is also the domain the end user will see when in the Weebly editor</td>
        <td>string</td>
        <td>X</td>
        <td></td>
        <td>X</td>
    </tr>
    <tr>
        <td><code>settings</code></td>
        <td>These fields can be set only when the sub-account is created. Details and values for these settings are given below. By default, the value for each is  inherited from the parent reseller if one isn't provided:
            <ul>
                <li><code>ecommerce</code> (boolean): Whether or not this sub-reseller's sites support ecommerce. Valid values are <code>true</code> or <code>false</code>.</li>
            <li><code>manual_site_creation</code> (boolean): Whether or not this sub-reseller can create sites using the Cloud Admin. Valid values are <code>true</code> or <code>false</code>.</li>
                <li><code>publish_settings</code> (string): How this sub-reseller's sites are hosted and published. Valid values are <code>weebly</code> or <code>ftp</code>.</li>
            <li><code>available_plans</code> (string): The Weebly plans this sub-reseller will provide. Valid values are:
                <ul>
                    <li><code>0</code>: (free)</li>
                    <li><code>5</code>: (starter)</li>
                    <li><code>10</code>: (pro)</li>
                    <li><code>15</code>: (business)</li>
                </ul></li>
            </ul>
        </td>
        <td>object</td>
        <td>X</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td><code>reseller_id</code></td>
        <td>The unique ID for this sub-reseller's account.</td>
        <td>string</td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td><code>members</code></td>
        <td>Array of <a href="cl_gs_team_members.html">team members</a>. These fields can be set for each member. When you create a sub-account, you must create at least one member with he <code>admin</code> role:
        <ul>
            <li><code>reseller_member_id</code>: ID for this team member.</li>
            <li><code>name</code>: Name of this team member.</li>
            <li><code>email</code>: Email of the team member.</li>
            <li><code>permission</code>: Role for this team member. More about roles <a href="cl_gs_team_members.html#team-member-roles">here</a></li>
        </ul>
        </td>
        <td>array</td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    </tbody>
</table>

<div class="Notice type_info" role="alert">
	<b>Note:</b> Any fields returned that are not documented are currently unsupported and can be safely ignored
</div>

<h2>
<div class="Tag type_info">GET</div>

 Retrieve a List of Sub-Accounts</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">GET /subaccount</code></pre></figure>

<p>Returns all sub-accounts for this account. Only <code class="highlighter-rouge">list</code> fields are returned.</p>

<p class="codeTitle">Example CURL request:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/subaccount <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>

<p class="codeTitle">Example response:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"subaccounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"test_mode"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"suspended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"brand_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Reseller"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"brand_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.newreseller.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"portal_domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.weeblycloud.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"ecommerce"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"manual_site_creation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"publish_settings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weebly"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"available_plans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"5"</span><span class="p">,</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> </span><span class="s2">"15"</span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"reseller_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
        </span><span class="err">}</span><span class="p">,</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"test_mode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"suspended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"brand_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Seller"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"brand_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/newseller.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"portal_domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newseller.weeblycloud.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"ecommerce"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"manual_site_creation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"publish_settings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weebly"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"available_plans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"5"</span><span class="p">,</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> </span><span class="s2">"15"</span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"reseller_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456790"</span><span class="p">,</span><span class="w">
        </span><span class="err">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<h2>
<div class="Tag type_info">GET</div>

 Retrieve Details for a Sub-Account</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">GET /subaccount/<span class="o">{</span>RESELLER_ID<span class="o">}</span>/</code></pre></figure>

<p>Returns all fields for the given sub-account&gt;.</p>

<p class="codeTitle">Example CURL request:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/subaccount/123456789 <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>

<p class="codeTitle">Example response:</p>
<p>See Fields table. All fields for the sub-account are returned.</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="s2">"subaccounts"</span><span class="err">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"test_mode"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"suspended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Reseller"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.newreseller.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"portal_domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.weeblycloud.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"ecommerce"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"manual_site_creation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"publish_settings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weebly"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"available_plans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"5"</span><span class="p">,</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> </span><span class="s2">"15"</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"reseller_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"members"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"reseller_member_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@email.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"permission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<h2>
<div class="Tag type_warning">POST</div>

 Create a Sub-Account</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">POST /user/USER_ID/site/<span class="o">{</span>SITE_ID<span class="o">}</span>/page</code></pre></figure>

<p>Creates a sub-account.</p>

<p>These fields can be created:</p>

<table>
    <tr>
        <td><strong>Name</strong></td>
        <td><strong>Description</strong></td>
        <td><strong>Type</strong></td>
        <td><strong>Notes</strong></td>
    </tr>
    <tr>
        <td><code>brand_name</code></td>
        <td>The brand name of the sub-reseller. Displays in the footer of any free sites. They may override this setting at the site level. </td>
        <td>string</td>
        <td>Required</td>
    </tr>
    <tr>
        <td><code>brand_url</code></td>
        <td>Full url to the sub-reseller's website. The link in the footer of a published site will go to this site. They may override this setting at the site level.</td>
        <td>string</td>
        <td>Required</td>
    </tr>
    <tr>
        <td><code>admin_name</code></td>
        <td>Name of the team member who will be an admin for this sub-account</td>
        <td>string</td>
        <td>Required - you must create at least one member with a role of <code>admin</code>.</td>
    </tr>
    <tr>
        <td><code>admin_email</code></td>
        <td>Email for the team member who will be an admin for this sub-account</td>
        <td>string</td>
        <td>Required - you must create at least one member with a role of <code>admin</code>.</td>
    </tr>
    <tr>
        <td>​<code>test_mode</code></td>
        <td>Whether or not this sub-account is in test mode. By default, this is set to true when a subreseller is created. Valid values are:
            <ul>
                <li>true</li>
                <li>false</li>
            </ul></td>
        <td>boolean</td>
        <td>If not set, defaults to <code>true</code>.</td>
    </tr>
    <tr>
        <td><code>portal_domain</code></td>
        <td>The CNAME record to access Cloud Admin (eg: <code>portaldomain.com/admin</code>) and the client portal, if enabled (eg: <code>portaldomain.com/portal</code>). This is also the domain the end user will see when in the Weebly editor</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td><code>settings</code></td>
        <td>These fields can be set only when the sub-account is created. Details and values for these settings are given below. By default, the value for each is  inherited from the parent reseller if one isn't provided:
            <ul>
                <li><code>ecommerce</code> (boolean): Whether or not this sub-reseller's sites support ecommerce. Valid values are <code>true</code> or <code>false</code>.</li>
                <li><code>manual_site_creation</code> (boolean): Whether or not this sub-reseller can create sites using the Cloud Admin. Valid values are <code>true</code> or <code>false</code>.</li>
                <li><code>publish_settings</code> (string): How this sub-reseller's sites are hosted and published. Valid values are <code>weebly</code> or <code>ftp</code>.</li>
                <li><code>available_plans</code> (string): The Weebly plans this sub-reseller will provide. Valid values are:
                    <ul>
                        <li><code>0</code>: (free)</li>
                        <li><code>5</code>: (starter)</li>
                        <li><code>10</code>: (pro)</li>
                        <li><code>15</code>: (business)</li>
                    </ul></li>
            </ul>
        </td>
        <td>object</td>
        <td>If not set, defaults to parent reseller's values.</td>
    </tr>
</table>

<p class="codeTitle">Example CURL request:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/subaccount <span class="se">\</span>
-X POST <span class="se">\</span>
-d <span class="s1">'{
        "brand_name": "New Reseller",
        "brand_url": "www.newreseller.com",
        "portal_domain": "https://www.weeblycloud.com",
        "admin_name": "John Doe",
        "admin_email": "johndoe@email.com",
        "publish_settings": "ftp",
        "available_plans": "5,10,15"
    }'</span> <span class="se">\</span>
-H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>

<p class="codeTitle">Example response:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"subaccount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"test_mode"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"suspended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Reseller"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.newreseller.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"portal_domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.weeblycloud.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"ecommerce"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"manual_site_creation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"publish_settings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ftp"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"available_plans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"5"</span><span class="p">,</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> </span><span class="s2">"15"</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"reseller_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"members"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"reseller_member_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@email.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"permission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<h2>
<div class="Tag type_warning">POST</div>

 Set Credentials for a Sub-Account</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">POST /subaccount/<span class="o">{</span>RESELLER_ID<span class="o">}</span>/apicredentials</code></pre></figure>

<p>Creates an encrypted API Key for the subreseller. You need to decode the returned string using your Client Secret.</p>

<p class="codeTitle">Example CURL request:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/subaccount/123456789/apicredentials <span class="se">\</span>
-X POST <span class="se">\</span></code></pre></figure>

<p class="codeTitle">Example response:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"keys"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SZt24Z3TC+A3h95ecH6Orm94nX5dOYM6zDVgGf212MSAAD6WDM3vNJJtBLko9r+Vg+W1SfjRIutNWlPov7ZjyIYOzoPRlBh16j5GgqOojU+ZyEHqwXE7ndSVyGmk4IYIosaO509Ax1LCq0LcyHCvXYxFJNzzeGXMoQAQU1ye1VU="</span><span class="p">,</span><span class="w">
    </span><span class="nt">"iv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L7IikhcLuhmh7aWw3FK6WA=="</span><span class="p">,</span><span class="w">
    </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aes-256-cbc"</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<p>To decrypt, you need to do the following:
base 64 decode the initialization vector (<code class="highlighter-rouge">iv</code>)
Use openssl with the method provided to decrypt the keys string with zero padding, using your secret key.
json_decode the resulting decrypted string to get the api credentials</p>

<p>​Here’s an example, using PHP:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php">$response = json_decode($apiResponse); // the response from the api
$decodedIV = base64_decode($response-&gt;iv); // decode the initialization vector used to encrypt
$decrypted = openssl_decrypt($response-&gt;keys, $response-&gt;method, YOUR_PARENT_RESELLER_SECRET, OPENSSL_ZERO_PADDING, $decodedIV);
$decrypted = json_decode(trim($decrypted));</code></pre></figure>

<h2>
<div class="Tag type_warning">PATCH</div>

 Update a Sub-Account</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">PATCH /subaccount/<span class="o">{</span>RESELLER_ID<span class="o">}</span></code></pre></figure>

<p>Updates the given sub-account.</p>

<p>These fields can be updated (all others can be updated using the Cloud Admin):</p>

<table>
    <tr>
        <td><strong>Name</strong></td>
        <td><strong>Description</strong></td>
        <td><strong>Type</strong></td>
    </tr>
    <tr>
        <td><code>suspended</code></td>
        <td>Whether or not this sub-account is suspended.</td>
        <td>boolean<br />
            Valid values are:
            <ul>
                <li>true</li>
                <li>false</li>
            </ul>​</td>
        <td>boolean</td>
    </tr>

    <tr>
        <td><code>brand_name</code></td>
        <td>The brand name of the sub-reseller. Displays in the footer of any free sites. They may override this setting at the site level. </td>
        <td>string</td>
    </tr>
    <tr>
        <td><code>brand_url</code></td>
        <td>Full url to the sub-reseller's website. The link in the footer of a published site will go to this site. They may override this setting at the site level.</td>
        <td>string</td>
    </tr>
    <tr>
        <td><code>portal_domain</code></td>
        <td>The CNAME record to access Cloud Admin (eg: <code>portaldomain.com/admin</code>) and the client portal, if enabled (eg: <code>portaldomain.com/portal</code>). This is also the domain the end user will see when in the Weebly editor</td>
        <td>string</td>
    </tr>
</table>

<p class="codeTitle">Example CURL request:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl https://api.weeblycloud.com/subaccount/123456789 <span class="se">\</span>
-X PATCH <span class="se">\</span>
-d <span class="s1">'{
        "suspended": true
}'</span> <span class="se">\</span>
-H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>

<p class="codeTitle">Example response:</p>
<p>See Fields table. All fields for the sub-account are returned.</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"subaccount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"test_mode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"suspended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Reseller"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.newreseller.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"portal_domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.weeblycloud.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"ecommerce"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"manual_site_creation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"publish_settings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weebly"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"available_plans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"5"</span><span class="p">,</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> </span><span class="s2">"15"</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"reseller_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"members"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"reseller_member_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@email.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"permission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure>



    <div class="tags">
        
            Tags:<br/>
	        

            

                
		        	<a href="tag_sites.html" class="btn btn-default navbar-btn cursorNorm tags-link" role="button">sites</a>
		        

	        
        
    </div>

    

</div>

<hr class="shaded"/>

<footer class="footer">
	<div class="row">
		<div class="col-lg-12">
			<div class="footer__fineprint">
				&copy;2018 Weebly. All rights reserved. <br />
				 Site last generated: Jan 18, 2018
			</div>
			<div class="footer__logo">
				<img src="images/weebly_logo.svg" alt="Weebly logo"/>
			</div>
		</div>
	</div>
</footer>


    </div>
</div>



</body>
</html>
