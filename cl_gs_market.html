<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="You can customize the modal displayed when a user publishes a site.">
<meta name="keywords" content="configurationsitesapis,  dialog, upsell, modal, publish">
<title>Market to Your Customers in Weebly | Weebly Cloud Developer Documentation</title>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- Third-Party CSS -->
<link rel="stylesheet" href="css/syntax.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<!-- Custom CSS -->
<link rel="stylesheet" media="screen" href="css/orbit-external.css">
<link rel="stylesheet" media="screen" href="css/orbit.css">
<link rel="stylesheet" media="screen" href="css/theme-weebly.css">

<!-- Third-Party JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>
<script src="js/jekyll-search.js" type="text/javascript"></script>
<script src="js/toc.js"></script>

<!-- Custom JS -->
<script src="js/customscripts.js"></script>



</head>
<body>

<!-- Navigation -->

<div class="top-nav">

	<div class="top-nav-item">
		<img src="images/weebly_cloud_logo.svg" alt="Weebly Cloud" class="cloud-logo" role="button" tabindex="0" alt="menu"/>
	</div>

	<div class="top-nav-item">
		<img class="mobile-nav-btn" src="images/icons/mobile-menu.svg" alt="Mobile menu">
	</div>

	<nav class="top-nav-item">
		<div class="nav-group">
			<ul class="NavList nav-group-list horizontal">
				<!-- entries without drop-downs appear here -->
				
				
				
				<li class="NavLinkLi">
					<a href="home.html" class="NavLink nav-group-list-link">Get Started</a>
				</li>
				
				
				
				<li class="NavLinkLi">
					<a href="cl_api_about.html" class="NavLink nav-group-list-link">Cloud API</a>
				</li>
				
				
				
				<li class="NavLinkLi">
					<a href="cl_plugins_about.html" class="NavLink nav-group-list-link">Plugins</a>
				</li>
				
				
				
				<li class="NavLinkLi">
					<a href="cl_apps_gs.html" class="NavLink nav-group-list-link">Apps</a>
				</li>
				
				
				
				<li class="NavLinkLi">
					<a href="cl_themes_start.html" class="NavLink nav-group-list-link">Themes</a>
				</li>
				
				
				
				<li class="NavLinkLi">
					<a href="cl_tags.html" class="NavLink nav-group-list-link">Tags</a>
				</li>
				
				
				
				<!-- entries with drop-downs appear here -->
				<!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
				
				<!--
			<li class="NavLinkLi">



  <a class="email NavLink nav-group-list-link" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:rwhitmore@weebly.com?subject=Weebly Cloud Developer Docs feedback&body=I have some feedback about the Market to Your Customers in Weebly page: ' + window.location.href;">Feedback</a>

</li>

-->
        <li class="NavLinkLi">

  <a href="https://weeblycloud.com/admin" target="_blank">Cloud Admin</a>
</li>


		

                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="Search...">
                        <ul id="results-container"></ul>
                    </div>
                    <!--end search-->
                </li>
            </ul>
        </div>
	</nav>
</div>






<div class="page has-sidebar">
    
      <div class="col-sidebar">
       	














<ul id="mysidebar" class="nav NavList">
    
	    
		    
	    
		    

			    <li class="NavLinkLi">
			        <a href="#" class="NavLink isSecondary">Get Started</a>
			        <ul class="NavList Children">
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="home.html" class="NavLink isSecondary">Get Started with Weebly Cloud</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_integration.html" class="NavLink isSecondary">Integration Overview</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_admin.html" class="NavLink isSecondary">Use Weebly Cloud Admin</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_client_ui.html" class="NavLink isSecondary">How Your Clients Work with You</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_apps.html" class="NavLink isSecondary">Provide Apps to Your Customers</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_hosting.html" class="NavLink isSecondary">Understand Hosting Options</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_configure.html" class="NavLink isSecondary">Configure Weebly Cloud</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_team_members.html" class="NavLink isSecondary">Create Cloud Admin Users</a>
					            </li>
				            

				            
			            
			            
			        </ul>
			    </li>
		    
	    
		    

			    <li class="NavLinkLi">
			        <a href="#" class="NavLink isSecondary">Integrate Weebly</a>
			        <ul class="NavList Children">
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_plans.html" class="NavLink isSecondary">Create Plans</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_users.html" class="NavLink isSecondary">Create and Manage Users</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_cr_sites.html" class="NavLink isSecondary">Create Sites</a>
					            </li>
				            

				            
			            
			            
			        </ul>
			    </li>
		    
	    
		    

			    <li class="NavLinkLi">
			        <a href="#" class="NavLink isSecondary">Manage Weebly</a>
			        <ul class="NavList Children">
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_upgrades.html" class="NavLink isSecondary">Handle Upgrades</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_loginlink.html" class="NavLink isSecondary">Provide SSO Access with a loginLink</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_editSites.html" class="NavLink isSecondary">Edit, Preview, and Publish Sites</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_removeSites.html" class="NavLink isSecondary">Suspend and Remove Sites</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_restore.html" class="NavLink isSecondary">Restore Elements, Pages, and Sites</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_ssl.html" class="NavLink isSecondary">Allow Sites to Use SSL</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_access_sites.html" class="NavLink isSecondary">Create and Manage Site Contributors</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_subresellers.html" class="NavLink isSecondary">Create and Manage Sub-Resellers</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="active isActive NavLinkLi">
					            	<a href="cl_gs_market.html" class="NavLink  isSecondary">Market to Your Customers in Weebly</a>
					            </li>
				            

				            
			            
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_invoice.html" class="NavLink isSecondary">View and Pay Weebly Invoices</a>
					            </li>
				            

				            
			            
			            
			        </ul>
			    </li>
		    
	    
		    

			    <li class="NavLinkLi">
			        <a href="#" class="NavLink isSecondary">Troubleshooting</a>
			        <ul class="NavList Children">
			            
			            

				            
					            <li class="NavLinkLi">
					            	<a href="cl_gs_trouble.html" class="NavLink isSecondary">Troubleshooting Weebly Cloud</a>
					            </li>
				            

				            
			            
			            
			        </ul>
			    </li>
		    
	    
    

</ul>


<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>
$("li.active").parents('li').toggleClass("active");
</script>

      </div>
    

    <div class="col-content">
        <div>
    <div class="post-header">
        <h1 class="post-title-main display-1">Market to Your Customers in Weebly</h1>
    </div>
    <div class="page-type">  task </div>
</div>




<div class="post-content">

   
    <div class="summary">You can customize the modal displayed when a user publishes a site.</div>
   

    
    <!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {

	$('#toc').toc({
		minimumHeaders: 2, // Don't show ToC if there is only one header
		listType: 'ul',
		showSpeed: 0,
		headers: 'h2'
	});

	/* this offset helps account for the space taken up by the floating toolbar. */
	$('#toc').on('click', 'a', function() {
	  var target = $(this.getAttribute('href'))
	    , scroll_target = target.offset().top

	  $(window).scrollTop(scroll_target - 50);
	  return false
	})

});
</script>

<div id="toc" class="toc"></div>

    

    

  <h2 id="about-the-publish-modal">About the Publish Modal</h2>

<p>When a user publishes a site, the Weebly editor displays a publishing modal. It displays a link to the site just published, and often Weebly displays promotional material as well.</p>
<figure class="post-content__figure">
	

	<img class="post-content__image" src="images/cl_promoModal.png" alt="" />

	

	
		<figcaption>Publish modal in the Weebly Editor</figcaption>
	</figure>

<p>You can use this modal window to advertise your own services by setting the <code class="highlighter-rouge">publish_upsell_url</code> to a URL where you have content published. That content loads in an iframe (640px W by 200px H) and displays in the modal when a site is published.</p>

<p>Here’s an example of custom content in the modal (the yellow background is for demonstration purposes only).</p>
<figure class="post-content__figure">
	

	<img class="post-content__image" src="images/cl_upsell_custom.png" alt="Custom content in the Publish modal" />

	

	
		<figcaption>Custom content in the Publish modal</figcaption>
	</figure>

<p>Because the <code class="highlighter-rouge">site_ID</code> and <code class="highlighter-rouge">user_ID</code> are passed into the upsell URL, you can dynamically override the content to display based on the user and site being published.</p>

<p>Here’s an example URL in the iframe:</p>
<p class="codeTitle">Example Publish Modal URL:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">iframe src="http://your-url.com/upsell.php?user_id=1234567<span class="err">&amp;</span>site_id=1234567891011234"
style="width:100%; height:200px; margin-top:20px; overflow-x:hidden; border:none;"</code></pre></figure>

<h2 id="customize-the-publish-modal">Customize the Publish Modal</h2>
<p>Before you can configure Weebly Cloud to use custom content in the Publish modal, you need to create it on a site that can be accessed. You set the URL in the Cloud Admin or if you want different content displayed based on the site or user, you can set it dynamically using the <a href="cl_api_site.html">Site</a> or <a href="cl_api_account.html">Account</a> API.</p>

<p><strong>To set the URL in the Cloud Admin:</strong></p>
<ol>
  <li>Create your custom content at a URL that can be accessed by the modal.</li>
  <li>
    <p>From the <strong>Settings</strong> page of the Cloud Admin, in the Configuration area, click the <strong>Edit</strong> icon for the <strong>Upsell URL</strong>.</p>

    <figure class="post-content__figure">
	

 <img class="post-content__image" src="images/cl_upsellURL.png" alt="Upsell URL on the Settings page in the Cloud Admin" />

	

	
     <figcaption>Upsell URL on the Settings page in the Cloud Admin</figcaption>
 </figure>
  </li>
  <li>Enter the URL to your custom content.</li>
</ol>

<p><strong>To set the URL dyanmically using the API:</strong></p>

<p>Use the <code class="highlighter-rouge">PATCH</code> request from the <a href="cl_api_account.html">Account</a> API if you want all sites for an account to see the same content, or from the <a href="cl_api_site.html">Site</a> API if you want content to be based on the site being published.</p>

<p>Here’s a example:</p>
<p class="codeTitle">Example CURL Request for Publish Upsell URL:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">curl https://api.weeblycloud.com/user/USER_ID/site/SITE_ID <span class="se">\</span>
-X PATCH <span class="se">\</span>
-d <span class="s1">'{
      "publish_upsell_url": "http://www.brand.com/upsell.html"
}'</span> <span class="se">\</span>
-H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Public-Key: YOURAPIKEY"</span> <span class="se">\</span>
-H <span class="s2">"X-Signed-Request-Hash: YOURSECRETHASH"</span></code></pre></figure>



    <div class="tags">
        
            Tags:<br/>
	        

            

                
		        	<a href="tag_configuration.html" class="btn btn-default navbar-btn cursorNorm tags-link" role="button">configuration</a>
		        

	        

                
		        	<a href="tag_sites.html" class="btn btn-default navbar-btn cursorNorm tags-link" role="button">sites</a>
		        

	        

                
		        	<a href="tag_apis.html" class="btn btn-default navbar-btn cursorNorm tags-link" role="button">apis</a>
		        

	        
        
    </div>

    

</div>

<hr class="shaded"/>

<footer class="footer">
	<div class="row">
		<div class="col-lg-12">
			<div class="footer__fineprint">
				&copy;2018 Weebly. All rights reserved. <br />
				 Site last generated: Jan 22, 2018
			</div>
			<div class="footer__logo">
				<img src="images/weebly_logo.svg" alt="Weebly logo"/>
			</div>
		</div>
	</div>
</footer>


    </div>
</div>



</body>
</html>
